apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: grafana
  namespace: argocd
spec:
  project: cluster
  source:
    repoURL: https://grafana.github.io/helm-charts
    targetRevision: 8.3.0
    chart: grafana
    helm:
      releaseName: grafana
      values: |
        replicas: 1

        adminPassword: admin

        persistence:
          enabled: false

        auth:
          anonymous:
            enabled: true
            org_role: Viewer

        grafana.ini:
          auth.anonymous:
            enabled: true
            org_role: Viewer
          users:
            allow_sign_up: false

        service:
          type: ClusterIP
          port: 80
          targetPort: 3000

        ingress:
          enabled: true
          ingressClassName: nginx
          hosts:
            - grafana.lan
          path: /
          pathType: Prefix

        resources:
          requests:
            cpu: 100m
            memory: 128Mi
          limits:
            cpu: 200m
            memory: 256Mi

        datasources:
          datasources.yaml:
            apiVersion: 1
            datasources:
            - name: Prometheus
              type: prometheus
              url: http://prometheus-server.monitoring.svc.cluster.local:80
              access: proxy
              isDefault: true
            - name: Loki
              type: loki
              url: http://loki.monitoring.svc.cluster.local:3100
              access: proxy

        dashboardProviders:
          dashboardproviders.yaml:
            apiVersion: 1
            providers:
            - name: 'default'
              orgId: 1
              folder: ''
              type: file
              disableDeletion: false
              editable: true
              options:
                path: /var/lib/grafana/dashboards/default

        dashboards:
          default:
            cluster-overview:
              json: |
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": null,
                  "links": [],
                  "liveNow": false,
                  "panels": [
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "base": {
                              "color": "green",
                              "value": null
                            },
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              },
                              {
                                "color": "yellow",
                                "value": 50
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 0
                      },
                      "id": 2,
                      "options": {
                        "colorMode": "background",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "reduceOptions": {
                          "values": false,
                          "fields": "",
                          "calcs": [
                            "lastNotNull"
                          ]
                        },
                        "text": {},
                        "textMode": "auto"
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "(1 - avg(rate(node_cpu_seconds_total{mode=\"idle\"}[5m]))) * 100",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "CPU Usage %",
                          "refId": "A"
                        }
                      ],
                      "title": "Node CPU Usage",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "base": {
                              "color": "green",
                              "value": null
                            },
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              },
                              {
                                "color": "yellow",
                                "value": 50
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 0
                      },
                      "id": 3,
                      "options": {
                        "colorMode": "background",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "reduceOptions": {
                          "values": false,
                          "fields": "",
                          "calcs": [
                            "lastNotNull"
                          ]
                        },
                        "text": {},
                        "textMode": "auto"
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "((node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes) / node_memory_MemTotal_bytes) * 100",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "Memory Usage %",
                          "refId": "A"
                        }
                      ],
                      "title": "Node Memory Usage",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "Cores",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "tooltip": false,
                              "viz": false,
                              "legend": false
                            },
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 8
                      },
                      "id": 4,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=~\".+\", cpu=\"total\"}[5m])) by (pod, namespace)",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "{{pod}} ({{namespace}})",
                          "refId": "A"
                        }
                      ],
                      "title": "Pod CPU Usage",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "Bytes",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "tooltip": false,
                              "viz": false,
                              "legend": false
                            },
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 8
                      },
                      "id": 5,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "sum(container_memory_working_set_bytes{namespace=~\".+\"}) by (pod, namespace)",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "{{pod}} ({{namespace}})",
                          "refId": "A"
                        }
                      ],
                      "title": "Pod Memory Usage",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "Restarts",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "bars",
                            "fillOpacity": 100,
                            "gradientMode": "none",
                            "hideFrom": {
                              "tooltip": false,
                              "viz": false,
                              "legend": false
                            },
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 16
                      },
                      "id": 6,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "increase(kube_pod_container_status_restarts_total[1h])",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "{{pod}} ({{namespace}})",
                          "refId": "A"
                        }
                      ],
                      "title": "Pod Restarts (1h)",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "Bytes/sec",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "tooltip": false,
                              "viz": false,
                              "legend": false
                            },
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              }
                            ]
                          },
                          "unit": "Bps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 16
                      },
                      "id": 7,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "rate(node_network_receive_bytes_total{device=\"eth0\"}[5m])",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "RX",
                          "refId": "A"
                        },
                        {
                          "expr": "rate(node_network_transmit_bytes_total{device=\"eth0\"}[5m])",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "TX",
                          "refId": "B"
                        }
                      ],
                      "title": "Node Network I/O",
                      "type": "timeseries"
                    }
                  ],
                  "refresh": "30s",
                  "schemaVersion": 38,
                  "style": "dark",
                  "tags": [
                    "cluster",
                    "overview"
                  ],
                  "templating": {
                    "list": []
                  },
                  "time": {
                    "from": "now-1h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "",
                  "title": "Cluster Overview",
                  "uid": "cluster-overview",
                  "starred": true,
                  "version": 1
                }
            loki-metrics:
              json: |
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": { "type": "grafana", "uid": "-- Grafana --" },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": null,
                  "links": [],
                  "panels": [
                    {
                      "datasource": { "type": "loki", "uid": "P8E80F9AEF21F6940" },
                      "fieldConfig": {
                        "defaults": {
                          "color": { "mode": "palette-classic" },
                          "custom": {
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "bars",
                            "fillOpacity": 100,
                            "gradientMode": "none",
                            "hideFrom": { "legend": false, "tooltip": false, "viz": false },
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": { "type": "linear" },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": { "group": "A", "mode": "normal" },
                            "thresholdsStyle": { "mode": "off" }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              { "color": "green", "value": null }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 0 },
                      "id": 1,
                      "options": {
                        "legend": { "calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true },
                        "tooltip": { "mode": "multi", "sort": "none" }
                      },
                      "targets": [
                        {
                          "datasource": { "type": "loki", "uid": "P8E80F9AEF21F6940" },
                          "expr": "sum(count_over_time({namespace=~\".+\"}[2m])) by (namespace)",
                          "legendFormat": "{{namespace}}",
                          "refId": "A"
                        }
                      ],
                      "title": "Log Volume by Namespace",
                      "type": "timeseries"
                    },
                    {
                      "datasource": { "type": "loki", "uid": "P8E80F9AEF21F6940" },
                      "fieldConfig": {
                        "defaults": {
                          "color": { "mode": "palette-classic" },
                          "custom": {
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "bars",
                            "fillOpacity": 100,
                            "gradientMode": "none",
                            "hideFrom": { "legend": false, "tooltip": false, "viz": false },
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": { "type": "linear" },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": { "group": "A", "mode": "none" },
                            "thresholdsStyle": { "mode": "off" }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              { "color": "green", "value": null }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 0 },
                      "id": 2,
                      "options": {
                        "legend": { "calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true },
                        "tooltip": { "mode": "multi", "sort": "none" }
                      },
                      "targets": [
                        {
                          "datasource": { "type": "loki", "uid": "P8E80F9AEF21F6940" },
                          "expr": "sum(count_over_time({namespace=~\".+\"}[2m])) by (pod, namespace)",
                          "legendFormat": "{{pod}} ({{namespace}})",
                          "refId": "A"
                        }
                      ],
                      "title": "Log Volume by Pod",
                      "type": "timeseries"
                    },
                    {
                      "datasource": { "type": "loki", "uid": "P8E80F9AEF21F6940" },
                      "fieldConfig": {
                        "defaults": {
                          "color": { "mode": "palette-classic" },
                          "custom": {
                            "align": "auto",
                            "cellOptions": { "type": "auto" },
                            "inspect": false,
                            "filterable": true,
                            "sortBy": [{ "displayName": "Time", "desc": true }]
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              { "color": "green", "value": null }
                            ]
                          }
                        },
                        "overrides": [
                          { "matcher": { "id": "byName", "options": "Time" }, "properties": [{ "id": "custom.width", "value": 150 }] },
                          { "matcher": { "id": "byName", "options": "pod" }, "properties": [{ "id": "custom.width", "value": 150 }] },
                          { "matcher": { "id": "byName", "options": "namespace" }, "properties": [{ "id": "custom.width", "value": 100 }] },
                          { "matcher": { "id": "byName", "options": "Line" }, "properties": [{ "id": "custom.width", "value": 500 } ] }
                        ]
                      },
                      "gridPos": { "h": 10, "w": 24, "x": 0, "y": 8 },
                      "id": 3,
                      "options": {
                        "showHeader": true,
                        "sortBy": [{ "displayName": "Time", "desc": true }]
                      },
                      "targets": [
                        {
                          "datasource": { "type": "loki", "uid": "P8E80F9AEF21F6940" },
                          "expr": "{namespace=~\".+\"} |~ \"(?i)error\" !~ \"watchdog\\\\.executeEndpoint\" | service_name != \"ingress-nginx\"",
                          "refId": "A"
                        }
                      ],
                      "title": "Error Logs",
                      "type": "logs"
                    }
                  ],
                  "refresh": "30s",
                  "schemaVersion": 38,
                  "style": "dark",
                  "tags": ["logs", "loki", "metrics"],
                  "templating": {
                    "list": []
                  },
                  "time": { "from": "now-1h", "to": "now" },
                  "timepicker": {},
                  "timezone": "",
                  "title": "Loki Metrics",
                  "uid": "loki-metrics",
                  "starred": true,
                  "version": 1
                }
            pod-metrics:
              json: |
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": null,
                  "links": [],
                  "liveNow": false,
                  "panels": [
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "Cores",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "tooltip": false,
                              "viz": false,
                              "legend": false
                            },
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 0
                      },
                      "id": 1,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\", pod=\"$pod\", cpu=\"total\"}[5m])) by (container)",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "{{container}}",
                          "refId": "A"
                        }
                      ],
                      "title": "CPU Usage",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "Bytes",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "tooltip": false,
                              "viz": false,
                              "legend": false
                            },
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 0
                      },
                      "id": 2,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "sum(container_memory_working_set_bytes{namespace=\"$namespace\", pod=\"$pod\"}) by (container)",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "{{container}}",
                          "refId": "A"
                        }
                      ],
                      "title": "Memory Usage",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "Bytes/sec",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "tooltip": false,
                              "viz": false,
                              "legend": false
                            },
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              }
                            ]
                          },
                          "unit": "Bps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 8
                      },
                      "id": 3,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "rate(container_network_receive_bytes_total{namespace=\"$namespace\", pod=\"$pod\"}[5m])",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "RX - {{interface}}",
                          "refId": "A"
                        },
                        {
                          "expr": "rate(container_network_transmit_bytes_total{namespace=\"$namespace\", pod=\"$pod\"}[5m])",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "TX - {{interface}}",
                          "refId": "B"
                        }
                      ],
                      "title": "Network I/O",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "Bytes/sec",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "tooltip": false,
                              "viz": false,
                              "legend": false
                            },
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              }
                            ]
                          },
                          "unit": "Bps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 8
                      },
                      "id": 4,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "rate(container_fs_reads_bytes_total{namespace=\"$namespace\", pod=\"$pod\"}[5m])",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "Read - {{device}}",
                          "refId": "A"
                        },
                        {
                          "expr": "rate(container_fs_writes_bytes_total{namespace=\"$namespace\", pod=\"$pod\"}[5m])",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "Write - {{device}}",
                          "refId": "B"
                        }
                      ],
                      "title": "Disk I/O",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              },
                              {
                                "color": "red",
                                "value": 1
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 6,
                        "x": 0,
                        "y": 16
                      },
                      "id": 5,
                      "options": {
                        "colorMode": "background",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "reduceOptions": {
                          "values": false,
                          "fields": "",
                          "calcs": [
                            "lastNotNull"
                          ]
                        },
                        "text": {},
                        "textMode": "auto"
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "increase(kube_pod_container_status_restarts_total{namespace=\"$namespace\", pod=\"$pod\"}[1h])",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "{{container}}",
                          "refId": "A"
                        }
                      ],
                      "title": "Restarts (1h)",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 6,
                        "x": 6,
                        "y": 16
                      },
                      "id": 6,
                      "options": {
                        "colorMode": "background",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "reduceOptions": {
                          "values": false,
                          "fields": "",
                          "calcs": [
                            "lastNotNull"
                          ]
                        },
                        "text": {},
                        "textMode": "auto"
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "sum(kube_pod_container_resource_requests{namespace=\"$namespace\", pod=\"$pod\", resource=\"cpu\"})",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "CPU Request",
                          "refId": "A"
                        }
                      ],
                      "title": "CPU Request",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 6,
                        "x": 12,
                        "y": 16
                      },
                      "id": 7,
                      "options": {
                        "colorMode": "background",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "reduceOptions": {
                          "values": false,
                          "fields": "",
                          "calcs": [
                            "lastNotNull"
                          ]
                        },
                        "text": {},
                        "textMode": "auto"
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "sum(kube_pod_container_resource_requests{namespace=\"$namespace\", pod=\"$pod\", resource=\"memory\"})",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "Memory Request",
                          "refId": "A"
                        }
                      ],
                      "title": "Memory Request",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "PBFA97CFB590B2093"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green",
                                "value": null
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 6,
                        "x": 18,
                        "y": 16
                      },
                      "id": 8,
                      "options": {
                        "colorMode": "background",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "reduceOptions": {
                          "values": false,
                          "fields": "",
                          "calcs": [
                            "lastNotNull"
                          ]
                        },
                        "text": {},
                        "textMode": "auto"
                      },
                      "pluginVersion": "10.0.0",
                      "targets": [
                        {
                          "expr": "sum(kube_pod_container_resource_limits{namespace=\"$namespace\", pod=\"$pod\", resource=\"cpu\"})",
                          "format": "time_series",
                          "interval": "",
                          "legendFormat": "CPU Limit",
                          "refId": "A"
                        }
                      ],
                      "title": "CPU Limit",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "loki",
                        "uid": "P8E80F9AEF21F6940"
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 20
                      },
                      "id": 9,
                      "options": {
                        "dedupStrategy": "none",
                        "enableLogDetails": true,
                        "prettifyLogMessage": false,
                        "showCommonLabels": false,
                        "showLabels": false,
                        "showTime": true,
                        "sortOrder": 2,
                        "wrapLogMessage": false
                      },
                      "targets": [
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "P8E80F9AEF21F6940"
                          },
                          "expr": "{namespace=\"$namespace\", pod=\"$pod\"}",
                          "refId": "A"
                        }
                      ],
                      "title": "Pod Logs",
                      "type": "logs"
                    }
                  ],
                  "refresh": "30s",
                  "schemaVersion": 38,
                  "style": "dark",
                  "tags": [
                    "pod",
                    "metrics",
                    "resources"
                  ],
                  "templating": {
                    "list": [
                      {
                        "allValue": null,
                        "current": {
                          "selected": false,
                          "text": "default",
                          "value": "default"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "PBFA97CFB590B2093"
                        },
                        "definition": "label_values(kube_pod_info, namespace)",
                        "description": null,
                        "error": null,
                        "hide": 0,
                        "includeAll": false,
                        "label": "Namespace",
                        "multi": false,
                        "name": "namespace",
                        "options": [],
                        "query": {
                          "query": "label_values(kube_pod_info, namespace)",
                          "refId": "StandardVariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "skipUrlSync": false,
                        "sort": 0,
                        "tagValuesQuery": "",
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                      },
                      {
                        "allValue": null,
                        "current": {
                          "selected": false,
                          "text": "ollama-0",
                          "value": "ollama-0"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "PBFA97CFB590B2093"
                        },
                        "definition": "label_values(kube_pod_info{namespace=\"$namespace\"}, pod)",
                        "description": null,
                        "error": null,
                        "hide": 0,
                        "includeAll": false,
                        "label": "Pod",
                        "multi": false,
                        "name": "pod",
                        "options": [],
                        "query": {
                          "query": "label_values(kube_pod_info{namespace=\"$namespace\"}, pod)",
                          "refId": "StandardVariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "skipUrlSync": false,
                        "sort": 0,
                        "tagValuesQuery": "",
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                      }
                    ]
                  },
                  "time": {
                    "from": "now-1h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "",
                  "title": "Pod Metrics",
                  "uid": "pod-metrics",
                  "starred": false,
                  "version": 1
                }
            argocd-overview:
              json: |
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": { "type": "grafana", "uid": "-- Grafana --" },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": null,
                  "links": [],
                  "panels": [
                    {
                      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [
                            { "options": { "0": { "color": "red", "text": "Down" }, "1": { "color": "green", "text": "Up" } }, "type": "value" }
                          ],
                          "thresholds": { "mode": "absolute", "steps": [{ "color": "red", "value": null }, { "color": "green", "value": 1 }] }
                        },
                        "overrides": []
                      },
                      "gridPos": { "h": 4, "w": 6, "x": 0, "y": 0 },
                      "id": 1,
                      "options": { "colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false }, "textMode": "auto" },
                      "targets": [{ "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }, "expr": "argocd_info", "legendFormat": "ArgoCD", "refId": "A" }],
                      "title": "ArgoCD Status",
                      "type": "stat"
                    },
                    {
                      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
                      "fieldConfig": {
                        "defaults": {
                          "color": { "mode": "thresholds" },
                          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }] }
                        },
                        "overrides": []
                      },
                      "gridPos": { "h": 4, "w": 6, "x": 6, "y": 0 },
                      "id": 2,
                      "options": { "colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false }, "textMode": "auto" },
                      "targets": [{ "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }, "expr": "count(argocd_app_info{sync_status=\"Synced\"})", "legendFormat": "Synced", "refId": "A" }],
                      "title": "Apps Synced",
                      "type": "stat"
                    },
                    {
                      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
                      "fieldConfig": {
                        "defaults": {
                          "color": { "mode": "thresholds" },
                          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }, { "color": "red", "value": 1 }] }
                        },
                        "overrides": []
                      },
                      "gridPos": { "h": 4, "w": 6, "x": 12, "y": 0 },
                      "id": 3,
                      "options": { "colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false }, "textMode": "auto" },
                      "targets": [{ "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }, "expr": "count(argocd_app_info{sync_status!=\"Synced\"}) or vector(0)", "legendFormat": "OutOfSync", "refId": "A" }],
                      "title": "Apps Out of Sync",
                      "type": "stat"
                    },
                    {
                      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
                      "fieldConfig": {
                        "defaults": {
                          "color": { "mode": "thresholds" },
                          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }, { "color": "red", "value": 1 }] }
                        },
                        "overrides": []
                      },
                      "gridPos": { "h": 4, "w": 6, "x": 18, "y": 0 },
                      "id": 4,
                      "options": { "colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false }, "textMode": "auto" },
                      "targets": [{ "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }, "expr": "count(argocd_app_info{health_status!=\"Healthy\"}) or vector(0)", "legendFormat": "Unhealthy", "refId": "A" }],
                      "title": "Apps Unhealthy",
                      "type": "stat"
                    },
                    {
                      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
                      "fieldConfig": {
                        "defaults": {
                          "color": { "mode": "palette-classic" },
                          "custom": { "axisCenteredZero": false, "axisColorMode": "text", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "bars", "fillOpacity": 100, "gradientMode": "none", "hideFrom": { "legend": false, "tooltip": false, "viz": false }, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": { "type": "linear" }, "showPoints": "never", "spanNulls": true, "stacking": { "group": "A", "mode": "normal" }, "thresholdsStyle": { "mode": "off" } },
                          "mappings": [],
                          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }] },
                          "unit": "short"
                        },
                        "overrides": [
                          { "matcher": { "id": "byName", "options": "succeeded" }, "properties": [{ "id": "color", "value": { "fixedColor": "green", "mode": "fixed" } }] },
                          { "matcher": { "id": "byName", "options": "failed" }, "properties": [{ "id": "color", "value": { "fixedColor": "red", "mode": "fixed" } }] }
                        ]
                      },
                      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 4 },
                      "id": 5,
                      "options": { "legend": { "calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "none" } },
                      "targets": [
                        { "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }, "expr": "sum(increase(argocd_app_sync_total{phase=\"Succeeded\"}[5m])) by (project)", "legendFormat": "succeeded", "refId": "A" },
                        { "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }, "expr": "sum(increase(argocd_app_sync_total{phase=\"Failed\"}[5m])) by (project)", "legendFormat": "failed", "refId": "B" }
                      ],
                      "title": "App Syncs (5m)",
                      "type": "timeseries"
                    },
                    {
                      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
                      "fieldConfig": {
                        "defaults": {
                          "color": { "mode": "palette-classic" },
                          "custom": { "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "seconds", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": { "legend": false, "tooltip": false, "viz": false }, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": { "type": "linear" }, "showPoints": "auto", "spanNulls": true, "stacking": { "group": "A", "mode": "none" }, "thresholdsStyle": { "mode": "off" } },
                          "mappings": [],
                          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }] },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 4 },
                      "id": 6,
                      "options": { "legend": { "calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "none" } },
                      "targets": [{ "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }, "expr": "histogram_quantile(0.95, sum(rate(argocd_app_reconcile_bucket[5m])) by (le, namespace))", "legendFormat": "p95 {{namespace}}", "refId": "A" }],
                      "title": "App Reconcile Duration p95",
                      "type": "timeseries"
                    },
                    {
                      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
                      "fieldConfig": {
                        "defaults": {
                          "color": { "mode": "palette-classic" },
                          "custom": { "axisCenteredZero": false, "axisColorMode": "text", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": { "legend": false, "tooltip": false, "viz": false }, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": { "type": "linear" }, "showPoints": "auto", "spanNulls": true, "stacking": { "group": "A", "mode": "none" }, "thresholdsStyle": { "mode": "off" } },
                          "mappings": [],
                          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }] },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 12 },
                      "id": 7,
                      "options": { "legend": { "calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "none" } },
                      "targets": [{ "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }, "expr": "sum(increase(argocd_git_request_total[5m])) by (request_type)", "legendFormat": "{{request_type}}", "refId": "A" }],
                      "title": "Git Requests (5m)",
                      "type": "timeseries"
                    },
                    {
                      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
                      "fieldConfig": {
                        "defaults": {
                          "color": { "mode": "palette-classic" },
                          "custom": { "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "seconds", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": { "legend": false, "tooltip": false, "viz": false }, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": { "type": "linear" }, "showPoints": "auto", "spanNulls": true, "stacking": { "group": "A", "mode": "none" }, "thresholdsStyle": { "mode": "off" } },
                          "mappings": [],
                          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }] },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 12 },
                      "id": 8,
                      "options": { "legend": { "calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "none" } },
                      "targets": [{ "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }, "expr": "histogram_quantile(0.95, sum(rate(argocd_git_request_duration_seconds_bucket[5m])) by (le, request_type))", "legendFormat": "p95 {{request_type}}", "refId": "A" }],
                      "title": "Git Request Duration p95",
                      "type": "timeseries"
                    },
                    {
                      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
                      "fieldConfig": {
                        "defaults": {
                          "color": { "mode": "palette-classic" },
                          "custom": { "axisCenteredZero": false, "axisColorMode": "text", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": { "legend": false, "tooltip": false, "viz": false }, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": { "type": "linear" }, "showPoints": "auto", "spanNulls": true, "stacking": { "group": "A", "mode": "none" }, "thresholdsStyle": { "mode": "off" } },
                          "mappings": [],
                          "thresholds": { "mode": "absolute", "steps": [{ "color": "green", "value": null }] },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": { "h": 8, "w": 24, "x": 0, "y": 20 },
                      "id": 9,
                      "options": { "legend": { "calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true }, "tooltip": { "mode": "multi", "sort": "none" } },
                      "targets": [{ "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }, "expr": "sum(increase(argocd_redis_request_total[5m])) by (initiator)", "legendFormat": "{{initiator}}", "refId": "A" }],
                      "title": "Redis Requests by Initiator (5m)",
                      "type": "timeseries"
                    }
                  ],
                  "refresh": "30s",
                  "schemaVersion": 38,
                  "style": "dark",
                  "tags": ["argocd", "gitops"],
                  "templating": { "list": [] },
                  "time": { "from": "now-1h", "to": "now" },
                  "timepicker": {},
                  "timezone": "",
                  "title": "ArgoCD Overview",
                  "uid": "argocd-overview",
                  "starred": true,
                  "version": 1
                }

  destination:
    server: https://kubernetes.default.svc
    namespace: monitoring

  syncPolicy:
    syncOptions:
    - CreateNamespace=true
    automated:
      prune: true
      selfHeal: true
